import{r as u}from"./index.e59e159d.js";function d(e,t){return t.type==="SEND"?{data:null,error:null,status:"pending"}:t.type==="SUCCESS"?{data:t.responseData,error:null,status:"completed"}:t.type==="ERROR"?{data:null,error:t.errorMessage,status:"completed"}:e}function l(e,t=!1){const[o,s]=u.exports.useReducer(d,{status:t?"pending":null,data:null,error:null});return{sendRequest:u.exports.useCallback(async function(r){s({type:"SEND"});try{const c=await e(r);s({type:"SUCCESS",responseData:c})}catch(c){s({type:"ERROR",errorMessage:c.message||"Something went wrong!"})}},[e]),...o}}const a="https://react-quotes-2ee2f-default-rtdb.asia-southeast1.firebasedatabase.app/";async function m(){const e=await fetch(`${a}/quotes.json`),t=await e.json();if(!e.ok)throw new Error(t.message||"Could not fetch quotes.");const o=[];for(const s in t){const n={id:s,...t[s]};o.push(n)}return o}async function p(e){const t=await fetch(`${a}/quotes/${e}.json`),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not fetch quote.");return{id:e,...o}}async function f(e){const t=await fetch(`${a}/quotes.json`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not create quote.");return null}async function h(e){const t=await fetch(`${a}/comments/${e.quoteId}.json`,{method:"POST",body:JSON.stringify(e.commentData),headers:{"Content-Type":"application/json"}}),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not add comment.");return{commentData:o.name}}async function w(e){const t=await fetch(`${a}/comments/${e}.json`),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not get comments.");const s=[];for(const n in o){const r={id:n,...o[n]};s.push(r)}return s}export{f as a,h as b,w as c,p as d,m as g,l as u};
